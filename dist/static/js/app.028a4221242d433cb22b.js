webpackJsonp([1],{"+5sd":function(e,t){},"/uz5":function(e,t){e.exports={protocolName:"B4GFirstProtocolLongTime",tasks:[{taskName:"A",seconds:40,rounds:5,description:"Postura correcta"},{taskName:"B",seconds:40,rounds:5,description:"Gluteos hacia delante, espalda superior apoyada en el respaldo"},{taskName:"C",seconds:40,rounds:5,description:"Espalda separada del respaldo, llevando el torso hacia alante con los brazos de apoyo contra las piernas"},{taskName:"D_der",seconds:40,rounds:5,description:"Ladeado hacia la derecha"},{taskName:"D_izq",seconds:40,rounds:5,description:"Ladeado hacia la izquierda"},{taskName:"E_der",seconds:40,rounds:5,description:"Pierna derecha cruzada sobre la otra"},{taskName:"E_izq",seconds:40,rounds:5,description:"Pierna izquierda cruzada sobre la otra"}]}},0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"4+hh":function(e,t){},5:function(e,t){},AnEo:function(e,t){},Cc49:function(e,t){},JkPH:function(e,t){},"L+u6":function(e,t){},LChx:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},i,!1,function(e){a("Cc49")},null,null).exports,o=a("/ocq"),r=a("Q743"),d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),a("br"),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var c=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},d,!1,function(e){a("RqNW")},"data-v-3b884edb",null).exports,l=a("ESwS"),u=a("+cKO"),m={name:"Login",mixins:[l.validationMixin],data:function(){return{anyUserInLocalDB:!1,userSelected:!1,sending:!1,users:[],form:{userName:null,passwd:null}}},validations:{form:{passwd:{required:u.required}}},mounted:function(){if(localStorage.getItem("users"))try{var e=JSON.parse(localStorage.getItem("users"));if(0!=e.length){for(var t=0;t<e.length;t++)this.users.push(e[t].userName);this.anyUserInLocalDB=!0}}catch(e){localStorage.removeItem("users")}else console.log("No hay usuarios")},methods:{selectUser:function(e){this.form.userName=this.users[e],this.userSelected=!0},returnToUserSelection:function(){this.form.userName=null,this.userSelected=!1},getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},validateUser:function(){this.$v.$touch(),this.$v.$invalid||this.loginUser()},loginUser:function(){localStorage.userName=this.form.userName,this.$router.push({name:"Main"})},goToProfileForm:function(){this.$router.push({name:"ProfileForm"})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"containerElem md-size-50 md-small-size-100"},[a("h1",{staticClass:"md-title"},[e._v("Iniciar sesión")]),e._v(" "),a("div",{staticClass:"loginOptions"},[e.anyUserInLocalDB?a("div",{attrs:{id:"registeredUsers"}},[a("md-subheader",{staticClass:"md-primary"},[e._v("Usuario registrado")]),e._v(" "),e.userSelected?a("div",{key:"login",attrs:{id:"userLogin"}},[a("form",{staticClass:"md-layout",attrs:{id:"loginForm",novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validateUser(t)}}},[a("div",{staticClass:"md-layout-item md-small-size-100"},[a("md-content",{attrs:{id:"userSelected"}},[a("md-icon",[e._v("account_circle")]),e._v(" "),a("span",[e._v(e._s(e.form.userName))])],1),e._v(" "),a("md-field",{class:e.getValidationClass("passwd")},[a("label",{attrs:{for:"user-passwd"}},[e._v("Contraseña")]),e._v(" "),a("md-input",{attrs:{name:"user-passwd",id:"user-passwd",type:"password",disabled:e.sending},model:{value:e.form.passwd,callback:function(t){e.$set(e.form,"passwd",t)},expression:"form.passwd"}}),e._v(" "),e.$v.form.passwd.required?e._e():a("span",{staticClass:"md-error"},[e._v("Por favor, inserta la contraseña para tu usuario")])],1)],1),e._v(" "),a("md-button",{staticClass:"md-primary",attrs:{id:"backButton"},on:{click:function(t){e.returnToUserSelection()}}},[e._v("Atrás")]),e._v(" "),a("md-button",{staticClass:"md-primary md-raised",attrs:{id:"loginButton",type:"submit",disabled:e.sending}},[e._v("Iniciar sesión")])],1)]):a("md-list",{staticClass:"md-scrollbar",attrs:{id:"userList"}},e._l(e.users,function(t,s){return a("md-list-item",{key:s},[a("md-icon",[e._v("account_circle")]),e._v(" "),a("span",{staticClass:"md-list-item-text"},[e._v(e._s(t))]),e._v(" "),a("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(t){e.selectUser(s)}}},[a("md-icon",{staticClass:"md-primary"},[e._v("keyboard_arrow_right")])],1)],1)}))],1):e._e(),e._v(" "),a("div",{attrs:{id:"register"}},[a("md-subheader",{staticClass:"md-primary"},[e._v("Nuevo usuario")]),e._v(" "),a("md-button",{staticClass:"md-primary md-raised",attrs:{id:"newUserButton"},on:{click:function(t){e.goToProfileForm()}}},[e._v("Crear nuevo usuario")])],1)])])},staticRenderFns:[]};var h=a("VU/8")(m,v,!1,function(e){a("AnEo")},null,null).exports,p=a("mvHQ"),g=a.n(p),f={name:"ProfileForm",mixins:[l.validationMixin],data:function(){return{form:{userName:null,passwd:null,repPasswd:null,nickName:null,birthdate:null,gender:null,height:null,weight:null},userSaved:!1,sending:!1}},validations:{form:{userName:{required:u.required,minLength:Object(u.minLength)(5)},passwd:{required:u.required,minLength:Object(u.minLength)(6)},repPasswd:{required:u.required,equalToPasswd:Object(u.sameAs)("passwd")},nickName:{required:u.required},birthdate:{required:u.required},gender:{required:u.required},height:{required:u.required,between:Object(u.between)(60,250)},weight:{required:u.required,between:Object(u.between)(20,200)}}},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},saveUser:function(){var e=this;console.log("Guardando usuario"),this.sending=!0;var t=[];localStorage.getItem("users")&&(t=JSON.parse(localStorage.getItem("users")));var a={userName:this.form.userName,nickName:this.form.nickName,birthdate:this.form.birthdate,gender:this.form.gender,height:this.form.height,weight:this.form.weight};t.push(a),console.log(t),window.setTimeout(function(){e.userSaved=!0,e.sending=!1,localStorage.setItem("users",g()(t)),localStorage.userName=a.userName,e.$router.push({name:"Main"})},1500)},validateUser:function(){this.$v.$touch(),this.$v.$invalid||this.saveUser()}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profileform"},[a("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validateUser(t)}}},[a("md-card",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[a("md-card-header",[a("div",{staticClass:"md-title"},[e._v("Formulario de registro")])]),e._v(" "),a("md-card-content",[a("md-subheader",{staticClass:"md-primary"},[e._v("Datos de usuario")]),e._v(" "),a("md-field",{class:e.getValidationClass("userName")},[a("label",{attrs:{for:"user-name"}},[e._v("Nombre de usuario")]),e._v(" "),a("md-input",{attrs:{name:"user-name",id:"user-name",maxlength:"10",disabled:e.sending},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}}),e._v(" "),e.$v.form.userName.required?e.$v.form.userName.minlength?e.$v.form.userName.invalidCharacters?e.$v.form.userName.alreadyExists?e._e():a("span",{staticClass:"md-error"},[e._v("El nombre de usuario ya existe")]):a("span",{staticClass:"md-error"},[e._v("El nombre de usuario solo admite letras minúsculas sin acento (al menos una) y números")]):a("span",{staticClass:"md-error"},[e._v("El nombre de usuario debe contener al menos cinco caracteres")]):a("span",{staticClass:"md-error"},[e._v("Indique un nombre de usuario")])],1),e._v(" "),a("md-field",{class:e.getValidationClass("passwd"),attrs:{"md-toggle-password":!1}},[a("label",{attrs:{for:"password"}},[e._v("Contraseña")]),e._v(" "),a("md-input",{attrs:{name:"password",id:"password",maxlength:"12",type:"password",disabled:e.sending},model:{value:e.form.passwd,callback:function(t){e.$set(e.form,"passwd",t)},expression:"form.passwd"}}),e._v(" "),e.$v.form.passwd.required?e.$v.form.passwd.minlength?e.$v.form.passwd.invalidCharacters?e._e():a("span",{staticClass:"md-error"},[e._v("La contraseña debe poseer al menos una letra mayúscula, una minúscula y un número")]):a("span",{staticClass:"md-error"},[e._v("La contraseña debe contener al menos seis carateres")]):a("span",{staticClass:"md-error"},[e._v("Indique una contraseña")])],1),e._v(" "),a("md-field",{class:e.getValidationClass("repPasswd"),attrs:{"md-toggle-password":!1}},[a("label",{attrs:{for:"rep-passwd"}},[e._v("Repita la contraseña")]),e._v(" "),a("md-input",{attrs:{name:"rep-passwd",id:"rep-passwd",maxlength:"12",type:"password",disabled:e.sending},model:{value:e.form.repPasswd,callback:function(t){e.$set(e.form,"repPasswd",t)},expression:"form.repPasswd"}}),e._v(" "),e.$v.form.repPasswd.equalToPasswd?e._e():a("span",{staticClass:"md-error"},[e._v("Las contraseñas no coinciden")])],1),e._v(" "),a("md-divider"),e._v(" "),a("md-subheader",{staticClass:"md-primary"},[e._v("Datos de perfil")]),e._v(" "),a("md-field",{class:e.getValidationClass("nickName")},[a("label",{attrs:{for:"nick-name"}},[e._v("Apodo (el nombre con el que nos dirigiremos a tí)")]),e._v(" "),a("md-input",{attrs:{name:"nick-name",id:"nick-name",maxLength:"8",disabled:e.sending},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}}),e._v(" "),e.$v.form.nickName.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique un apodo")])],1),e._v(" "),a("md-datepicker",{class:e.getValidationClass("birthdate"),attrs:{name:"birthdate",id:"birthdate",disabled:e.sending},model:{value:e.form.birthdate,callback:function(t){e.$set(e.form,"birthdate",t)},expression:"form.birthdate"}},[a("label",[e._v("Fecha de nacimiento")]),e._v(" "),e.$v.form.birthdate.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique su fecha de nacimiento")])]),e._v(" "),a("md-field",{class:e.getValidationClass("gender")},[a("label",{attrs:{for:"gender"}},[e._v("Sexo")]),e._v(" "),a("md-select",{attrs:{name:"gender",id:"gender","md-dense":"",disabled:e.sending},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("md-option"),e._v(" "),a("md-option",{attrs:{value:"male"}},[e._v("Masculino")]),e._v(" "),a("md-option",{attrs:{value:"female"}},[e._v("Femenino")])],1),e._v(" "),e.$v.form.gender.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique su sexo")])],1),e._v(" "),a("md-field",{class:e.getValidationClass("height")},[a("label",{attrs:{for:"height"}},[e._v("Altura")]),e._v(" "),a("md-input",{attrs:{name:"height",id:"height",maxLength:"3",disabled:e.sending},model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}}),e._v(" "),a("span",{staticClass:"md-suffix"},[e._v("cm")]),e._v(" "),e.$v.form.height.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique su altura")]),e._v(" "),e.$v.form.height.between?e._e():a("span",{staticClass:"md-error"},[e._v("Altura no válida")])],1),e._v(" "),a("md-field",{class:e.getValidationClass("weight")},[a("label",{attrs:{for:"weight"}},[e._v("Peso")]),e._v(" "),a("md-input",{attrs:{name:"weight",id:"weight",maxLength:"3",disabled:e.sending},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}}),e._v(" "),a("span",{staticClass:"md-suffix"},[e._v("Kg")]),e._v(" "),e.$v.form.weight.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique su peso")]),e._v(" "),e.$v.form.weight.between?e._e():a("span",{staticClass:"md-error"},[e._v("Peso no válido")])],1),e._v(" "),a("md-divider"),e._v(" "),a("md-subheader",{staticClass:"md-primary"},[e._v("Opciones de registro")])],1),e._v(" "),a("md-card-actions",[a("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:e.sending}},[e._v("Crear usuario")])],1)],1)],1)])},staticRenderFns:[]};var b=a("VU/8")(f,_,!1,function(e){a("c0EJ")},"data-v-304447a2",null).exports,C={name:"MainSection",data:function(){return{msg:"Bienvenido a Back4good",timeRemaining:0,checkInterval:null,subSection:"start"}},methods:{changeSubSection:function(e){this.subSection!==e&&(this.subSection=e)},clearCheckTimeRemaining:function(){window.clearInterval(this.checkInterval),this.checkInterval=null},clearNewTimeRemaining:function(){this.clearCheckTimeRemaining(),this.timeRemaining=0},addZero:function(e){return e<10&&(e="0"+e),e},checkTimeRemaining:function(e){var t=this;"tab-timer"===e||this.checkInterval||(this.checkInterval=window.setInterval(function(){var e=new Date,a=t.addZero(e.getMinutes()),s=t.addZero(e.getSeconds());t.timeRemaining=a+":"+s},1e3))},mounted:function(){this.checkTimeRemaining()}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("md-toolbar",{staticClass:"md-primary"},[a("div",{staticClass:"md-toolbar-section-start"},[a("md-button",{staticClass:"md-icon-button"},[a("md-icon",[e._v("menu")])],1),e._v(" "),a("h3",{staticClass:"md-title"},[e._v(e._s(e.msg))])],1),e._v(" "),a("div",{staticClass:"md-toolbar-section-end"},[a("md-button",{staticClass:"md-icon-button"},[a("md-icon",[e._v("more_vert")])],1)],1)]),e._v(" "),a("md-tabs",{staticClass:"md-transparent",attrs:{"md-alignment":"fixed"},on:{"md-changed":e.checkTimeRemaining},scopedSlots:e._u([{key:"md-tab",fn:function(t){var s=t.tab;return[e._v("\n      "+e._s(s.label)+" "),s.data.badge?a("i",{staticClass:"badge"},[e._v(e._s(s.data.badge))]):e._e()]}}])},[a("md-tab",{attrs:{id:"tab-start","md-label":"Inicio"},on:{click:function(t){e.changeSubSection("start")}}}),e._v(" "),a("md-tab",{attrs:{id:"tab-monitor","md-label":"Monitorización"},on:{click:function(t){e.changeSubSection("monitor")}}}),e._v(" "),a("md-tab",{attrs:{id:"tab-timer","md-label":"Cronómetro","md-template-data":{badge:e.timeRemaining}},on:{click:function(t){e.changeSubSection("timer"),e.clearNewTimeRemaining()}}})],1),e._v(" "),"start"==this.subSection?a("div",[a("information")],1):"timer"==this.subSection?a("div",[a("pomodoro")],1):"monitor"==this.subSection?a("div",[a("transition",{attrs:{name:"fadeSync"}},[a("sitting-monitor")],1)],1):e._e()],1)},staticRenderFns:[]};var S=a("VU/8")(C,k,!1,function(e){a("istv")},"data-v-3d242498",null).exports,y={name:"TestBluetooth",data:function(){return{msg:"Welcome to Test Bluetooth Section",t1:0,t2:0,t3:0,t4:0}},methods:{mounted:function(){this.checkTimeRemaining()},addRawData:function(e){for(var t=e.target.value,a=0;a<byteLength;a++)this.rawData=this.rawData+String.fromCharCode(t.getUint8(a));this.bluetoothData=this.rawData},listBluethoothDevices:function(){function e(e){var t=e.target.value;console.log("Received "+function(e){var t=(e=e.buffer?e:new DataView(e)).getUint8(0),a={},s=1;1&t?(a.heartRate=e.getUint16(s,!0),s+=2):(a.heartRate=e.getUint8(s),s+=1);var i=2&t;if(4&t&&(a.contactDetected=!!i),8&t&&(a.energyExpended=e.getUint16(s,!0),s+=2),16&t){for(var n=[];s+1<e.byteLength;s+=2)n.push(e.getUint16(s,!0));a.rrIntervals=n}return a}(t).heartRate)}navigator.bluetooth.requestDevice({filters:[{services:["heart_rate"]}]}).then(function(e){return e.gatt.connect()}).then(function(e){return e.getPrimaryService("heart_rate")}).then(function(e){return e.getCharacteristic("heart_rate_measurement")}).then(function(e){return e.startNotifications()}).then(function(t){t.addEventListener("characteristicvaluechanged",e),console.log("Notifications have been started.")}).catch(function(e){console.log(e)})}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("md-empty-state",{attrs:{"md-icon":"event_seat","md-label":"Conecta tu Back4Good Sensor","md-description":"No se ha conectado aún nigún Back4Good Sensor"}},[a("md-button",{staticClass:"md-primary md-raised",attrs:{id:"syncButton"},on:{click:e.listBluethoothDevices}},[e._v("Conectar dispositivo")]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised"},[e._v("Obtener un Back4Good Sensor")]),e._v(" "),a("div",[a("md-content",[e._v(e._s(e.t1))]),e._v(" "),a("md-content",[e._v(e._s(e.t2))]),e._v(" "),a("md-content",[e._v(e._s(e.t3))]),e._v(" "),a("md-content",[e._v(e._s(e.t4))])],1)],1)],1)},staticRenderFns:[]};var N,x,D=a("VU/8")(y,w,!1,function(e){a("qpvI")},"data-v-37d3015a",null).exports,T=a("//Fk"),q=a.n(T),E=a("JkCx"),I=a.n(E),$={x:0,y:0,value:0},B={x:0,y:0,value:0},P={x:0,y:0,value:0},R={x:0,y:0,value:0},M=null,z={name:"TestBluetoothSitting",data:function(){return{msg:"Welcome to Test Bluetooth Sitting Section",t0:0,t1:0,t2:0,t3:0,h_data:{max:15,min:0,data:[$,B,P,R]}}},methods:{mounted:function(){this.checkTimeRemaining()},addRawData:function(e){for(var t=e.target.value,a=0;a<byteLength;a++)this.rawData=this.rawData+String.fromCharCode(t.getUint8(a));this.bluetoothData=this.rawData},resizeHeatmap:function(){N=document.getElementById("heatmapContainerWrapper").clientHeight,x=document.getElementById("heatmapContainerWrapper").clientWidth,$.x=x*(3/8)>>0,$.y=N*(8/13)>>0,B.x=x*(5/8)>>0,B.y=N*(8/13)>>0,P.x=x*(3/8)>>0,P.y=N*(11/13)>>0,R.x=x*(5/8)>>0,R.y=N*(11/13)>>0,console.log("Cambio de tamanio"),console.log("Ejemplos posicion: "+$.x+" "+R.y+" "+B.x)},listBluethoothDevices:function(){var e=this;navigator.bluetooth.requestDevice({filters:[{services:[6168]}]}).then(function(e){return e.gatt.connect()}).then(function(e){return console.log("Connected"),e.getPrimaryService(6168)}).then(function(e){return console.log("Service found"),e.getCharacteristics()}).then(function(t){console.log("Characteristics found");q.a.resolve();t.forEach(function(t){return t.startNotifications().then(function(t){console.log("Notification allowed"),t.addEventListener("characteristicvaluechanged",e.handleCharacteristicValueChanged),console.log("Notifications have been started.")})}),M=I.a.create({container:document.querySelector(".heatmapContainer")}),e.resizeHeatmap(),window.addEventListener("resize",e.resizeHeatmap),console.log("OK")}).catch(function(e){console.log(e)})},handleCharacteristicValueChanged:function(e){var t=e.target.value;switch(parseInt("0x"+e.target.uuid.split("-")[0])){case 10864:this.t0=t.getUint16(0,!0),$.value=this.t0/300>>0;break;case 10865:this.t1=t.getUint16(0,!0),B.value=this.t1/300>>0;break;case 10866:this.t2=t.getInt16(0,!0),P.value=this.t2/300>>0;break;case 10867:this.t3=t.getInt16(0,!0),R.value=this.t3/300>>0}this.h_data.data=[$,B,P,R],M.setData(this.h_data)}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("md-empty-state",{attrs:{"md-icon":"event_seat","md-label":"Conecta tu Back4Good Sensor","md-description":"No se ha conectado aún nigún Back4Good Sensor"}},[a("md-button",{staticClass:"md-primary md-raised",attrs:{id:"syncButton"},on:{click:e.listBluethoothDevices}},[e._v("Conectar dispositivo")]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised"},[e._v("Obtener un Back4Good Sensor")]),e._v(" "),a("div",[a("md-content",[e._v(e._s(e.t0))]),e._v(" "),a("md-content",[e._v(e._s(e.t1))]),e._v(" "),a("md-content",[e._v(e._s(e.t2))]),e._v(" "),a("md-content",[e._v(e._s(e.t3))])],1),e._v(" "),a("div",{staticClass:"heatmapContainerWrapper",attrs:{id:"heatmapContainerWrapper"}},[a("div",{staticClass:"heatmapContainer"})])],1)],1)},staticRenderFns:[]};var U,V,O=a("VU/8")(z,L,!1,function(e){a("L+u6")},"data-v-7f8fae8a",null).exports,j=a("Gu7T"),F=a.n(j),W=a("Xxa5"),J=a.n(W),H=a("exGp"),G=a.n(H),A=a("yCyq"),K={x:0,y:0,value:0},X={x:0,y:0,value:0},Y={x:0,y:0,value:0},Z={x:0,y:0,value:0},Q=null,ee={name:"TestBluetoothSittingV2",data:function(){return{msg:"Welcome to Bluetooth reading component",monitorEnabled:!1,bleDevice:null,t0:0,t1:0,t2:0,t3:0,h_data:{max:25,min:0,data:[K,X,Y,Z]}}},methods:{resizeHeatmap:function(){U=document.getElementById("heatmapContainerWrapper").clientHeight,V=document.getElementById("heatmapContainerWrapper").clientWidth,K.x=V*(3/8)>>0,K.y=U*(8/13)>>0,X.x=V*(5/8)>>0,X.y=U*(8/13)>>0,Y.x=V*(3/8)>>0,Y.y=U*(11/13)>>0,Z.x=V*(5/8)>>0,Z.y=U*(11/13)>>0},simuleBLE:function(){var e=this;this.monitorEnabled=!0,this.t0=2500,K.value=this.t0/200>>0,this.t1=4500,X.value=this.t0/200>>0,this.t2=3500,Y.value=this.t0/200>>0,this.t3=5e3,Z.value=this.t0/200>>0,this.h_data.data=[K,X,Y,Z],this.$nextTick(function(t){Q=I.a.create({container:document.querySelector(".heatmapContainer")}),e.resizeHeatmap(),window.addEventListener("resize",e.resizeHeatmap),Q.setData(e.h_data)})},listBluethoothDevices:function(){var e=this;navigator.bluetooth.requestDevice({filters:[{services:[6168]}]}).then(function(t){return e.bleDevice=t,console.log("Detected"),t.gatt.connect()}).then(function(e){return console.log("Connected"),console.log(e),e.getPrimaryService(6168)}).then(function(e){return console.log("Service found"),e.getCharacteristics()}).then(function(t){console.log("Characteristics found"),e.monitorEnabled=!0,t.forEach(function(t){return t.startNotifications().then(function(t){console.log("Notification allowed"),t.addEventListener("characteristicvaluechanged",e.handleCharacteristicValueChanged),t.addEventListener("characteristicvaluechanged",e.handleclassifyPosture),console.log("Notifications have been started.")})}),e.$nextTick(function(t){Q=I.a.create({container:document.querySelector(".heatmapContainer")}),e.resizeHeatmap(),window.addEventListener("resize",e.resizeHeatmap)}),console.log("OK")}).catch(function(e){console.log(e)})},handleclassifyPosture:function(e){var t,a=this,s=(t=G()(J.a.mark(function e(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a("http://localhost:8080/static/model.json");case 2:loadedModel=e.sent;case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)});G()(J.a.mark(function e(){var t,i,n,o;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=A.b([K.value,X.value,Y.value,Z.value],[1,4]),i=loadedModel.predict(t),n=i.dataSync(),o=n.indexOf(Math.max.apply(Math,F()(n))),textboxSensors.value=o;case 7:case"end":return e.stop()}},e,a)}))()},handleCharacteristicValueChanged:function(e){var t=e.target.value;switch(parseInt("0x"+e.target.uuid.split("-")[0])){case 10864:this.t0=t.getUint16(0,!0),K.value=this.t0/200>>0,console.log(this.t0),console.log(K.value);break;case 10865:this.t1=t.getUint16(0,!0),X.value=this.t1/200>>0;break;case 10866:this.t2=t.getInt16(0,!0),Y.value=this.t2/200>>0;break;case 10867:this.t3=t.getInt16(0,!0),Z.value=this.t3/200>>0}this.h_data.data=[K,X,Y,Z],Q.setData(this.h_data)},stopBluetoothReading:function(){this.bleDevice&&this.bleDevice.gatt.connected&&(this.bleDevice.gatt.disconnect(),this.monitorEnabled=!1)}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"monitorSection"},[this.monitorEnabled?a("md-empty-state",{attrs:{"md-label":"Monitorizando tu postura","md-description":"El color representa la fuerza ejercida. Procura que sea equilibrada."}},[a("input",{attrs:{type:"text",name:"textboxSensors",id:"textboxSensors",readonly:"true"}}),e._v(" "),a("div",{staticClass:"heatmapContainerWrapper",attrs:{id:"heatmapContainerWrapper"}},[a("div",{staticClass:"heatmapContainer"})]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.stopBluetoothReading}},[e._v("Parar monitorización")])],1):a("md-empty-state",{attrs:{"md-icon":"event_seat","md-label":"Conecta tu Bertical Sensor","md-description":"No se ha conectado aún nigún Back4good Sensor"}},[a("md-button",{staticClass:"md-primary md-raised",attrs:{id:"syncButton"},on:{click:e.listBluethoothDevices}},[e._v("Conectar dispositivo")]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised"},[e._v("Obtener un Back4Good Sensor")])],1)],1)},staticRenderFns:[]};var ae,se,ie=a("VU/8")(ee,te,!1,function(e){a("JkPH")},"data-v-d4a845c2",null).exports,ne={x:0,y:0,value:0},oe={x:0,y:0,value:0},re={x:0,y:0,value:0},de={x:0,y:0,value:0},ce=null,le={name:"TestBluetoothSittingV2",data:function(){return{msg:"Welcome to Bluetooth reading component",monitorEnabled:!1,bleDevice:null,t0:0,t1:0,t2:0,t3:0,h_data:{max:25,min:0,data:[ne,oe,re,de]},providedData:{samplesPerSecond:5,userName:"User",protocolFileName:"firstProtocolLong"},currentTaskData:{name:"",seconds:0,description:""},stopRequested:!1,recordingEnabled:!1,samplesRequired:0,time:0,updatesCount:0,previousUpdCount:0,samplesCount:0,recordInitTime:0,taskJSON:{username:"",protocol:"",task:"",date:"","Number of samples":"",samples:[]}}},methods:{resizeHeatmap:function(){ae=document.getElementById("heatmapContainerWrapper").clientHeight,se=document.getElementById("heatmapContainerWrapper").clientWidth,ne.x=se*(3/8)>>0,ne.y=ae*(8/13)>>0,oe.x=se*(5/8)>>0,oe.y=ae*(8/13)>>0,re.x=se*(3/8)>>0,re.y=ae*(11/13)>>0,de.x=se*(5/8)>>0,de.y=ae*(11/13)>>0},listBluethoothDevices:function(){var e=this;navigator.bluetooth.requestDevice({filters:[{services:[6168]}]}).then(function(t){return e.bleDevice=t,t.gatt.connect()}).then(function(e){return console.log("Connected"),e.getPrimaryService(6168)}).then(function(e){return console.log("Service found"),e.getCharacteristics()}).then(function(t){console.log("Characteristics found"),e.monitorEnabled=!0,t.forEach(function(t){return t.startNotifications().then(function(t){console.log("Notification allowed"),t.addEventListener("characteristicvaluechanged",e.handleCharacteristicValueChanged),console.log("Notifications have been started.")})}),e.$nextTick(function(t){ce=I.a.create({container:document.querySelector(".heatmapContainer")}),e.resizeHeatmap(),window.addEventListener("resize",e.resizeHeatmap)}),console.log("OK")}).catch(function(e){console.log(e)})},handleCharacteristicValueChanged:function(e){var t=e.target.value;switch(parseInt("0x"+e.target.uuid.split("-")[0])){case 10864:this.t0=t.getUint16(0,!0),ne.value=this.t0/200>>0;break;case 10865:this.t1=t.getUint16(0,!0),oe.value=this.t1/200>>0;break;case 10866:this.t2=t.getInt16(0,!0),re.value=this.t2/200>>0;break;case 10867:this.t3=t.getInt16(0,!0),de.value=this.t3/200>>0}this.recordingEnabled&&this.updatesCount++,this.h_data.data=[ne,oe,re,de],ce.setData(this.h_data)},stopBluetoothReading:function(){this.bleDevice&&this.bleDevice.gatt.connected&&(this.bleDevice.gatt.disconnect(),this.monitorEnabled=!1)},protocolRecord:function(){var e=this;this.taskJSON.username=this.providedData.userName,this.taskJSON.protocol=this.providedData.protocolFileName,this.currentTaskData={name:this.providedData.taskName.split(": ")[0],seconds:this.providedData.seconds,description:this.providedData.taskName.split(": ")[1]},this.taskJSON.task=this.currentTaskData.name,this.recordingEnabled=!0,this.samplesRequired=this.currentTaskData.seconds*this.providedData.samplesPerSecond,this.recordInitTime=(new Date).getTime(),this.time=this.recordInitTime,this.taskJSON.date=this.recordInitTime,this.taskJSON["Number of samples"]=this.samplesRequired;var t=setInterval(function(a){if(e.updatesCount!=e.previousUpdCount&&e.updatesCount%4==0&&e.updatesCount>3)if(console.log(e.updatesCount),e.registerSample(),e.samplesCount++,e.previousUpdCount=e.updatesCount,e.stopRequested){console.log("Stopped"),e.recordingEnabled=!1,clearInterval(t);var s=g()(e.taskJSON);e.saveFile(s,e.taskJSON.task+"_"),e.taskJSON.samples=[],e.updatesCount=0,e.samplesCount=0,e.stopRequested=!1}else console.log(e.recordingEnabled)},20)},stopRecord:function(){this.stopRequested=!0},saveFile:function(e,t){var a=new Blob([e],{type:"text/plain"}),s=document.createEvent("MouseEvents"),i=document.createElement("a");i.download=t+".json",i.href=window.URL.createObjectURL(a),i.dataset.downloadurl=["text/json",i.download,i.href].join(":"),s.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(s)},registerSample:function(){var e=(new Date).getTime(),t={sample:this.samplesCount,"relapse in milliseconds":e-this.time,"sensor 1":this.t0,"sensor 2":this.t1,"sensor 3":this.t2,"sensor 4":this.t3};this.taskJSON.samples.push(t),this.time=e}}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"monitorSection"},[this.monitorEnabled?a("md-empty-state",{attrs:{"md-label":"Monitorizando tu postura","md-description":"El color representa la fuerza ejercida. Procura que sea equilibrada."}},[a("div",{staticClass:"heatmapContainerWrapper",attrs:{id:"heatmapContainerWrapper"}},[a("div",{staticClass:"heatmapContainer"})]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.stopBluetoothReading}},[e._v("Parar monitorización")]),e._v(" "),a("div",{staticClass:"recording"},[a("h3",[e._v("Grabación con protocolo")]),e._v(" "),a("p",[a("b",[e._v("Parámetros para el nuevo registro:")])]),e._v(" "),a("label",[e._v("Nombre de usuario: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.providedData.userName,expression:"providedData.userName"}],domProps:{value:e.providedData.userName},on:{input:function(t){t.target.composing||e.$set(e.providedData,"userName",t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("label",[e._v("Tipo de tarea:")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.providedData.taskName,expression:"providedData.taskName"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.providedData,"taskName",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("Selecciona una tarea")]),e._v(" "),a("option",{attrs:{value:"A"}},[e._v("A: Postura correcta")]),e._v(" "),a("option",{attrs:{value:"B"}},[e._v("B: Gluteos hacia delante, espalda superior apoyada en el respaldo")]),e._v(" "),a("option",{attrs:{value:"C"}},[e._v("C: Espalda separada del respaldo, llevando el torso hacia alante con los brazos de apoyo contra las piernas")]),e._v(" "),a("option",{attrs:{value:"D_der"}},[e._v("D_der: Ladeado hacia la derecha")]),e._v(" "),a("option",{attrs:{value:"D_izq"}},[e._v("D_izq: Ladeado hacia la izquierda")]),e._v(" "),a("option",{attrs:{value:"E_der"}},[e._v("E_der: Pierna derecha cruzada sobre la otra")]),e._v(" "),a("option",{attrs:{value:"E_izq"}},[e._v("E_izq: Pierna izquierda cruzada sobre la otra")]),e._v(" "),a("option")]),e._v(" "),a("br"),e._v(" "),a("md-button",{staticClass:"md-accent",attrs:{id:"startTask"},on:{click:function(t){e.protocolRecord()}}},[e._v(" Comenzar a registrar tarea")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:this.recordingEnabled,expression:"this.recordingEnabled"}]},[a("p",[e._v("Tomadas "+e._s(e.samplesCount)+" muestras ")]),e._v(" "),a("p",[e._v(" Tiempo transcurrido: "+e._s((e.time-e.recordInitTime)/1e3))]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised",attrs:{id:"stopTask"},on:{click:function(t){e.stopRecord()}}},[e._v(" Parar de registrar")])],1)],1)],1):a("md-empty-state",{attrs:{"md-icon":"event_seat","md-label":"Conecta tu Back4Good Sensor","md-description":"No se ha conectado aún nigún Back4Good Sensor"}},[a("md-button",{staticClass:"md-primary md-raised",attrs:{id:"syncButton"},on:{click:e.listBluethoothDevices}},[e._v("Conectar dispositivo")]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised"},[e._v("Obtener un Back4Good Sensor")])],1)],1)},staticRenderFns:[]};var me=a("VU/8")(le,ue,!1,function(e){a("xglX")},"data-v-094ea590",null).exports,ve=a("/uz5"),he=a.n(ve);console.log("../protocols/firstProtocolLong.json");var pe,ge,fe={x:0,y:0,value:0},_e={x:0,y:0,value:0},be={x:0,y:0,value:0},Ce={x:0,y:0,value:0},ke=null,Se={name:"TestBluetoothSittingV2",data:function(){return{msg:"Welcome to Bluetooth reading component",monitorEnabled:!1,bleDevice:null,t0:0,t1:0,t2:0,t3:0,h_data:{max:25,min:0,data:[fe,_e,be,Ce]},userFoldersStr:"",userFoldersList:[],providedData:{samplesPerSecond:5,userName:"User",protocolFileName:"firstProtocolLong"},protocolLoaded:!1,protocol:null,currentTaskData:{name:"",rounds:0,seconds:0,description:""},numberOfTasks:0,currentTask:0,currentRound:0,recordingEnabled:!1,samplesRequired:0,time:0,updatesCount:0,previousUpdCount:0,samplesCount:0,recordInitTime:0,taskJSON:{username:"",protocol:"",task:"",date:"","Number of samples":"",samples:[]}}},methods:{resizeHeatmap:function(){pe=document.getElementById("heatmapContainerWrapper").clientHeight,ge=document.getElementById("heatmapContainerWrapper").clientWidth,fe.x=ge*(3/8)>>0,fe.y=pe*(8/13)>>0,_e.x=ge*(5/8)>>0,_e.y=pe*(8/13)>>0,be.x=ge*(3/8)>>0,be.y=pe*(11/13)>>0,Ce.x=ge*(5/8)>>0,Ce.y=pe*(11/13)>>0},listBluethoothDevices:function(){var e=this;navigator.bluetooth.requestDevice({filters:[{services:[6168]}]}).then(function(t){return e.bleDevice=t,t.gatt.connect()}).then(function(e){return console.log("Connected"),e.getPrimaryService(6168)}).then(function(e){return console.log("Service found"),e.getCharacteristics()}).then(function(t){console.log("Characteristics found"),e.monitorEnabled=!0,t.forEach(function(t){return t.startNotifications().then(function(t){console.log("Notification allowed"),t.addEventListener("characteristicvaluechanged",e.handleCharacteristicValueChanged),console.log("Notifications have been started.")})}),e.$nextTick(function(t){ke=I.a.create({container:document.querySelector(".heatmapContainer")}),e.resizeHeatmap(),window.addEventListener("resize",e.resizeHeatmap)}),console.log("OK")}).catch(function(e){console.log(e)})},handleCharacteristicValueChanged:function(e){var t=e.target.value;switch(parseInt("0x"+e.target.uuid.split("-")[0])){case 10864:this.t0=t.getUint16(0,!0),fe.value=this.t0/200>>0;break;case 10865:this.t1=t.getUint16(0,!0),_e.value=this.t1/200>>0;break;case 10866:this.t2=t.getInt16(0,!0),be.value=this.t2/200>>0;break;case 10867:this.t3=t.getInt16(0,!0),Ce.value=this.t3/200>>0}this.recordingEnabled&&this.updatesCount++,this.h_data.data=[fe,_e,be,Ce],ke.setData(this.h_data)},stopBluetoothReading:function(){this.bleDevice&&this.bleDevice.gatt.connected&&(this.bleDevice.gatt.disconnect(),this.monitorEnabled=!1)},loadProtocol:function(){this.protocol=he.a,console.log("Protocol: "+g()(this.protocol)),this.numberOfTasks=this.protocol.tasks.length;var e=this.protocol.tasks[0];this.currentTaskData={name:e.taskName,rounds:e.rounds,seconds:e.seconds,description:e.description},this.protocolLoaded=!0,this.taskJSON.username=this.providedData.userName,this.taskJSON.protocol=this.providedData.protocolFileName},protocolRecord:function(){var e=this;this.recordingEnabled=!0,this.taskJSON.task=this.currentTaskData.name+"_"+(this.currentRound+1),this.samplesRequired=this.currentTaskData.seconds*this.providedData.samplesPerSecond,this.recordInitTime=(new Date).getTime(),this.time=this.recordInitTime,this.taskJSON.date=this.recordInitTime,this.taskJSON["Number of samples"]=this.samplesRequired;var t=setInterval(function(a){if(e.updatesCount!=e.previousUpdCount&&e.updatesCount%4==0&&e.updatesCount>3){if(console.log(e.updatesCount),e.registerSample(),e.samplesCount++,e.previousUpdCount=e.updatesCount,e.samplesCount>=e.samplesRequired){e.recordingEnabled=!1,clearInterval(t);var s=g()(e.taskJSON);if(e.saveFile(s,e.taskJSON.task),e.taskJSON.samples=[],e.updatesCount=0,e.samplesCount=0,e.currentRound++,e.currentRound==e.currentTaskData.rounds)if(e.currentRound=0,e.currentTask++,e.currentTask==e.numberOfTasks)e.currentTask=0,e.numberOfTasks=0,e.protocolLoaded=!1;else{var i=e.protocol.tasks[e.currentTask];e.currentTaskData={name:i.taskName,rounds:i.rounds,seconds:i.seconds,description:i.description},e.taskJSON.task=e.currentTaskData.name+"_1.json"}}}else console.log("Count ")},20)},saveFile:function(e,t){var a=new Blob([e],{type:"text/plain"}),s=document.createEvent("MouseEvents"),i=document.createElement("a");i.download=t+".json",i.href=window.URL.createObjectURL(a),i.dataset.downloadurl=["text/json",i.download,i.href].join(":"),s.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(s)},registerSample:function(){var e=(new Date).getTime(),t={sample:this.samplesCount,"relapse in milliseconds":e-this.time,"sensor 1":this.t0,"sensor 2":this.t1,"sensor 3":this.t2,"sensor 4":this.t3};this.taskJSON.samples.push(t),this.time=e}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"monitorSection"},[this.monitorEnabled?a("md-empty-state",{attrs:{"md-label":"Monitorizando tu postura","md-description":"El color representa la fuerza ejercida. Procura que sea equilibrada."}},[a("div",{staticClass:"heatmapContainerWrapper",attrs:{id:"heatmapContainerWrapper"}},[a("div",{staticClass:"heatmapContainer"})]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised",on:{click:e.stopBluetoothReading}},[e._v("Parar monitorización")]),e._v(" "),a("div",{staticClass:"recording"},[a("h3",[e._v("Grabación con protocolo")]),e._v(" "),a("p",[a("b",[e._v("Parámetros para el nuevo registro:")])]),e._v(" "),a("label",[e._v("Nombre de usuario: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.providedData.userName,expression:"providedData.userName"}],domProps:{value:e.providedData.userName},on:{input:function(t){t.target.composing||e.$set(e.providedData,"userName",t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("label",[e._v("Numero de muestras por segundo:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.providedData.samplesPerSecond,expression:"providedData.samplesPerSecond"}],domProps:{value:e.providedData.samplesPerSecond},on:{input:function(t){t.target.composing||e.$set(e.providedData,"samplesPerSecond",t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("label",[e._v("Nombre del fichero con el protocolo a usar:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.providedData.protocolFileName,expression:"providedData.protocolFileName"}],domProps:{value:e.providedData.protocolFileName},on:{input:function(t){t.target.composing||e.$set(e.providedData,"protocolFileName",t.target.value)}}}),e._v(" "),a("md-button",{staticClass:"md-accent",attrs:{id:"startProtocol"},on:{click:function(t){e.loadProtocol()}}},[e._v("Comenzar")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:this.protocolLoaded,expression:"this.protocolLoaded"}],staticClass:"taskRecord"},[a("p",[e._v("Siguente tarea: "+e._s(e.currentTaskData.name))]),e._v(" "),a("p",[e._v("Descripción: "+e._s(e.currentTaskData.description))]),e._v(" "),a("p",[e._v("Tiempo asignado: "+e._s(e.currentTaskData.seconds)+" segundos")]),e._v(" "),a("p",[e._v("Registradas "+e._s(e.currentRound)+" de "+e._s(e.currentTaskData.rounds)+" rondas")]),e._v(" "),a("md-button",{staticClass:"md-accent",attrs:{id:"startTask"},on:{click:function(t){e.protocolRecord()}}},[e._v(" Comenzar a registrar ronda")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:this.recordingEnabled,expression:"this.recordingEnabled"}]},[a("p",[e._v("Tomadas "+e._s(e.samplesCount)+" de "+e._s(e.samplesRequired)+" muestras ")]),e._v(" "),a("p",[e._v(" Tiempo transcurrido: "+e._s((e.time-e.recordInitTime)/1e3))])])],1)],1):a("md-empty-state",{attrs:{"md-icon":"event_seat","md-label":"Conecta tu Back4Good Sensor","md-description":"No se ha conectado aún nigún Back4Good Sensor"}},[a("md-button",{staticClass:"md-primary md-raised",attrs:{id:"syncButton"},on:{click:e.listBluethoothDevices}},[e._v("Conectar dispositivo")]),e._v(" "),a("md-button",{staticClass:"md-accent md-raised"},[e._v("Obtener un Back4Good Sensor")])],1)],1)},staticRenderFns:[]};var we=a("VU/8")(Se,ye,!1,function(e){a("UN/H")},"data-v-2e1e5dee",null).exports,Ne={name:"PomodoroTimer",data:function(){return{totalSeconds:0,remainingSeconds:0,remainingPercentage:100,started:!1,paused:!1,minutes:0,seconds:0,strMinutes:"00",strSeconds:"00",timer:null}},methods:{updateTimerView:function(){this.remainingSeconds=60*this.minutes+this.seconds,this.remainingPercentage=Math.round(this.remainingSeconds/this.totalSeconds*100),console.log(this.remainingSeconds),console.log(this.remainingPercentage),this.strMinutes=this.minutes>9?this.minutes:"0"+this.minutes,this.strSeconds=this.seconds>9?this.seconds:"0"+this.seconds},resetVariables:function(e,t){this.minutes=e,this.seconds=t,this.totalSeconds=60*e+t,this.updateTimerView(),this.started=!0},startWork:function(){this.resetVariables(25,0),this.timer=setInterval(this.regresiveCount,1e3)},startShortBreak:function(){this.resetVariables(5,0),this.timer=setInterval(this.regresiveCount,1e3)},startLongBreak:function(){this.resetVariables(10,0),this.timer=setInterval(this.regresiveCount,1e3)},stopTimer:function(){this.resetVariables(0,0),this.timerComplete()},pauseTimer:function(){clearInterval(this.timer),this.paused=!0},resumeTimer:function(){this.timer=setInterval(this.regresiveCount,1e3),this.paused=!1},regresiveCount:function(){if(console.log(this.minutes+":"+this.seconds),0==this.seconds){if(0==this.minutes)return void this.timerComplete();this.seconds=59,this.minutes--}else this.seconds--;this.updateTimerView()},timerComplete:function(){this.started=!1,clearInterval(this.timer)}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"pomodoro-app"}},[a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"timer"}},[a("md-progress-spinner",{attrs:{"md-mode":"determinate","md-value":e.remainingPercentage,"md-diameter":120,"md-stroke":60}},[e._v("Hola")]),e._v(" "),a("div",{attrs:{id:"time"}},[a("span",{attrs:{id:"minutes"}},[e._v(e._s(e.strMinutes))]),e._v(" "),a("span",{attrs:{id:"colon"}},[e._v(":")]),e._v(" "),a("span",{attrs:{id:"seconds"}},[e._v(e._s(e.strSeconds))])])],1),e._v(" "),a("div",{attrs:{id:"buttons"}},[a("div",{attrs:{id:"timer-events"}},[a("small",[e._v("Pomodoro steps")]),e._v(" "),a("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{id:"work"},on:{click:this.startWork}},[a("md-icon",[e._v("airline_seat_recline_normal")])],1),e._v(" "),a("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{id:"shortBreak"},on:{click:this.startShortBreak}},[a("md-icon",[e._v("replay_5")])],1),e._v(" "),a("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{id:"longBreak"},on:{click:this.startLongBreak}},[a("md-icon",[e._v("replay_10")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.started,expression:"started"}],attrs:{id:"time-actions"}},[a("small",[e._v("Time actions")]),e._v(" "),a("md-button",{directives:[{name:"show",rawName:"v-show",value:e.paused,expression:"paused"}],staticClass:"md-icon-button md-raised md-primary",attrs:{id:"resume"},on:{click:this.resumeTimer}},[a("md-icon",[e._v("play_arrow")])],1),e._v(" "),a("md-button",{directives:[{name:"show",rawName:"v-show",value:!e.paused,expression:"!paused"}],staticClass:"md-icon-button md-raised md-primary",attrs:{id:"pause"},on:{click:this.pauseTimer}},[a("md-icon",[e._v("pause")])],1),e._v(" "),a("md-button",{staticClass:"md-icon-button md-raised md-primary",attrs:{id:"stop"},on:{click:this.stopTimer}},[a("md-icon",[e._v("stop")])],1)],1)])])])},staticRenderFns:[]};var De=a("VU/8")(Ne,xe,!1,function(e){a("LChx")},null,null).exports,Te=[{type:"notice",title:"Bienvenido a Consejos",content:"En esta sección podrás acceder a los consejos que te iremos mandando con el tiempo. Puedes marcar los que te gusten como favoritos para localizarlos mejor.",favorite:!1},{type:"tip",title:"Las piernas en la postura",content:"¿Lo sabías? Las piernas han de estar dobladas a la altura de las rodillas, de tal forma que estén un poco más arriba de tus caderas. Si para conseguirlo tienes que bajar demasiado tu asiento, necesitas un reposapies. Si lo necesitas trabajando, solicítalo a tu empresa; está recogido en riesgos laborales la obligación de proporcionarte uno.",favorite:!1}],qe={name:"Information",data:function(){return{infoSection:"summary",lastMessageTitle:""}},mounted:function(){if(localStorage.getItem("userSendMessages"))try{var e=localStorage.userName;console.log(e);var t=JSON.parse(localStorage.getItem("userSendMessages"));if(0!=t.length){var a=t[String(e)];a?this.lastMessageTitle=a[a.length-1].title:(this.messages=Te,t={usrName:this.messages},this.lastMessageTitle=Te[Te.length-1].title,localStorage.setItem("userSendMessages",g()(t)))}else this.messages=Te,t={usrName:this.messages},this.lastMessageTitle=Te[Te.length-1].title,localStorage.setItem("userSendMessages",g()(t))}catch(e){console.log(e),this.messages=Te,messagesData={usrName:this.messages},this.lastMessageTitle=Te[Te.length-1].title,localStorage.setItem("userSendMessages",g()(msgData))}else console.log("No hay mensajes"),this.tryToGenerateDefaultMessages()},methods:{tryToGenerateDefaultMessages:function(){localStorage.userName;var e={usrName:Te};this.lastMessageTitle=Te[Te.length-1].title,localStorage.setItem("userSendMessages",g()(e))},goToProfile:function(){this.infoSection="profile"},goToTips:function(){this.infoSection="tips"},onBackToSummary:function(){this.infoSection="summary"}}},Ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["summary"==this.infoSection?a("div",{attrs:{id:"summary"}},[a("md-card",{attrs:{id:"lastAdward"}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[e._v("Último consejo")]),e._v(" "),a("div",{staticClass:"md-subhead"},[e._v(e._s(e.lastMessageTitle))])]),e._v(" "),a("md-card-media",[a("md-icon",{staticClass:"md-size-2x"},[e._v("message")])],1)],1),e._v(" "),a("md-card-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(t){e.goToTips()}}},[e._v("Ver consejos")])],1)],1),e._v(" "),a("md-card",{attrs:{id:"lastAdward"}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[e._v("Último logro")]),e._v(" "),a("div",{staticClass:"md-subhead"},[e._v("Aún no has alcanzado ningún logro")])]),e._v(" "),a("md-card-media",[a("md-icon",{staticClass:"md-size-2x"},[e._v("star")])],1)],1),e._v(" "),a("md-card-actions",[a("md-button",{staticClass:"md-primary"},[e._v("Ver logros")])],1)],1),e._v(" "),a("md-card",{attrs:{id:"statistics"}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[e._v("Estadísticas")])]),e._v(" "),a("md-card-media",[a("md-icon",{staticClass:"md-size-2x"},[e._v("insert_chart")])],1)],1),e._v(" "),a("md-card-content",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-90"},[a("span",[e._v("Horas monitorizadas:")])]),e._v(" "),a("div",{staticClass:"md-layout-item md-size-10"},[a("span",[e._v("{}")])])]),e._v(" "),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-90"},[a("span",[e._v("Tiempo en una buena postura:")])]),e._v(" "),a("div",{staticClass:"md-layout-item md-size-10"},[a("span",[e._v("{}")])])]),e._v(" "),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-90"},[a("span",[e._v("Número total de monitorizaciones:")])]),e._v(" "),a("div",{staticClass:"md-layout-item md-size-10"},[a("span",[e._v("{}")])])])]),e._v(" "),a("md-card-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(t){e.goToProfile()}}},[e._v("Ver perfil")])],1)],1)],1):"profile"==this.infoSection?a("user-profile",{on:{"back-to-summary":e.onBackToSummary}}):"tips"==this.infoSection?a("received-tips",{on:{"back-to-summary":e.onBackToSummary}}):e._e()],1)},staticRenderFns:[]};var Ie=a("VU/8")(qe,Ee,!1,function(e){a("+5sd")},null,null).exports,$e={name:"ProfileForm",mixins:[l.validationMixin],data:function(){return{form:{userName:null,nickName:null,birthdate:null,gender:null,height:null,weight:null},userIndex:-1,userSaved:!1,sending:!1}},validations:{form:{nickName:{required:u.required},birthdate:{required:u.required},gender:{required:u.required},height:{required:u.required,between:Object(u.between)(60,250)},weight:{required:u.required,between:Object(u.between)(20,200)}}},mounted:function(){if(localStorage.getItem("users"))try{var e=JSON.parse(localStorage.getItem("users"));if(0!=e.length)for(var t=0;t<e.length;t++){var a=e[t];localStorage.userName==a.userName&&(this.form=a,this.userIndex=t)}}catch(e){console.log(e)}else console.log("No hay usuarios")},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},saveUser:function(){var e=this;console.log("Guardando usuario"),this.sending=!0;var t=[];localStorage.getItem("users")&&(t=JSON.parse(localStorage.getItem("users")));var a={userName:this.form.userName,nickName:this.form.nickName,birthdate:this.form.birthdate,gender:this.form.gender,height:this.form.height,weight:this.form.weight};t[this.userIndex]=a,window.setTimeout(function(){e.userSaved=!0,e.sending=!1,localStorage.setItem("users",g()(t)),e.$emit("back-to-summary")},1500)},validateUser:function(){this.$v.$touch(),this.$v.$invalid||this.saveUser()}}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profileform"},[a("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validateUser(t)}}},[a("md-card",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[a("md-card-header",[a("div",{staticClass:"md-title"},[e._v("Formulario de registro")])]),e._v(" "),a("md-card-content",[a("md-subheader",{staticClass:"md-primary"},[e._v("Datos de perfil")]),e._v(" "),a("md-field",{class:e.getValidationClass("nickName")},[a("label",{attrs:{for:"nick-name"}},[e._v("Apodo (el nombre con el que nos dirigiremos a tí)")]),e._v(" "),a("md-input",{attrs:{name:"nick-name",id:"nick-name",maxLength:"8",disabled:e.sending},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}}),e._v(" "),e.$v.form.nickName.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique un apodo")])],1),e._v(" "),a("md-datepicker",{class:e.getValidationClass("birthdate"),attrs:{name:"birthdate",id:"birthdate",disabled:e.sending},model:{value:e.form.birthdate,callback:function(t){e.$set(e.form,"birthdate",t)},expression:"form.birthdate"}},[a("label",[e._v("Fecha de nacimiento")]),e._v(" "),e.$v.form.birthdate.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique su fecha de nacimiento")])]),e._v(" "),a("md-field",{class:e.getValidationClass("gender")},[a("label",{attrs:{for:"gender"}},[e._v("Sexo")]),e._v(" "),a("md-select",{attrs:{name:"gender",id:"gender","md-dense":"",disabled:e.sending},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("md-option"),e._v(" "),a("md-option",{attrs:{value:"male"}},[e._v("Masculino")]),e._v(" "),a("md-option",{attrs:{value:"female"}},[e._v("Femenino")])],1),e._v(" "),e.$v.form.gender.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique su sexo")])],1),e._v(" "),a("md-field",{class:e.getValidationClass("height")},[a("label",{attrs:{for:"height"}},[e._v("Altura")]),e._v(" "),a("md-input",{attrs:{name:"height",id:"height",maxLength:"3",disabled:e.sending},model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}}),e._v(" "),a("span",{staticClass:"md-suffix"},[e._v("cm")]),e._v(" "),e.$v.form.height.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique su altura")]),e._v(" "),e.$v.form.height.between?e._e():a("span",{staticClass:"md-error"},[e._v("Altura no válida")])],1),e._v(" "),a("md-field",{class:e.getValidationClass("weight")},[a("label",{attrs:{for:"weight"}},[e._v("Peso")]),e._v(" "),a("md-input",{attrs:{name:"weight",id:"weight",maxLength:"3",disabled:e.sending},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}}),e._v(" "),a("span",{staticClass:"md-suffix"},[e._v("Kg")]),e._v(" "),e.$v.form.weight.required?e._e():a("span",{staticClass:"md-error"},[e._v("Indique su peso")]),e._v(" "),e.$v.form.weight.between?e._e():a("span",{staticClass:"md-error"},[e._v("Peso no válido")])],1)],1),e._v(" "),a("md-card-actions",[a("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:e.sending}},[e._v("Guardar y salir")])],1)],1)],1)])},staticRenderFns:[]};var Pe=a("VU/8")($e,Be,!1,function(e){a("bbMM")},"data-v-e8e40236",null).exports,Re=[{type:"notice",title:"Bienvenido a Consejos",content:"En esta sección podrás acceder a los consejos que te iremos mandando con el tiempo. Puedes marcar los que te gusten como favoritos para localizarlos mejor.",favorite:!1},{type:"tip",title:"Las piernas en la postura",content:"¿Lo sabías? Las piernas han de estar dobladas a la altura de las rodillas, de tal forma que estén un poco más arriba de tus caderas. Si para conseguirlo tienes que bajar demasiado tu asiento, necesitas un reposapies. Si lo necesitas trabajando, solicítalo a tu empresa; está recogido en riesgos laborales la obligación de proporcionarte uno.",favorite:!1}],Me={name:"ReceivedTips",data:function(){return{messages:[],showDialog:!1,dialog:{title:"",subtitle:"",content:""}}},mounted:function(){if(localStorage.getItem("userSendMessages"))try{var e=localStorage.userName;console.log(e);var t=JSON.parse(localStorage.getItem("userSendMessages"));if(0!=t.length){var a=t[String(e)];a?this.messages=a:(this.messages=Re,t={usrName:this.messages},localStorage.setItem("userSendMessages",g()(t)))}else this.messages=Re,t={usrName:this.messages},localStorage.setItem("userSendMessages",g()(t))}catch(e){console.log(e),msgData={usrName:Re},localStorage.setItem("userSendMessages",g()(msgData))}else console.log("No hay mensajes"),this.tryToGenerateDefaultMessages()},methods:{iconType:function(e){var t="chat_bubble";switch(e){case"notice":console.log("Es info"),t="info";break;case"tip":console.log("Es consejo"),t="message";break;default:console.log("Es desconocido")}return t},messageType:function(e){var t="Mensaje";switch(e){case"notice":t="Información";break;case"tip":t="Consejo"}return t},iconFavorite:function(e){return e?"start":"star_border"},showMessage:function(e,t,a){this.dialog={title:this.messageType(e),subtitle:t,content:a},this.showDialog=!0},changeFavorite:function(e){console.log("El mensaje "+e.title+" es favorito?: "+e.favorite),e.favorite=!e.favorite},returnBack:function(){var e=this;try{var t=localStorage.userName,a=JSON.parse(localStorage.getItem("userSendMessages"));a[String(t)]=this.messages,localStorage.setItem("userSendMessages",g()(a))}catch(e){console.log(e),this.tryToGenerateDefaultMessages()}window.setTimeout(function(){e.$emit("back-to-summary")},500)},tryToGenerateDefaultMessages:function(){localStorage.userName;var e={usrName:Re};localStorage.setItem("userSendMessages",g()(e))}}},ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-dialog",{attrs:{"md-active":e.showDialog},on:{"update:mdActive":function(t){e.showDialog=t}}},[a("md-dialog-title",[e._v(e._s(e.dialog.title))]),e._v(" "),a("md-dialog-content",[a("span",[a("b",[e._v(e._s(e.dialog.subtitle))])]),e._v(" "),a("p",[e._v(e._s(e.dialog.content))])]),e._v(" "),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(t){e.showDialog=!1}}},[e._v("Salir")])],1)],1),e._v(" "),a("md-list",{key:"message",staticClass:"md-triple-line"},e._l(e.messages,function(t,s){return a("div",{key:s},[a("md-list-item",[a("md-avatar",[a("md-icon",{staticClass:"md-primary"},[e._v(e._s(e.iconType(t.type)))])],1),e._v(" "),a("div",{staticClass:"md-list-item-text",on:{click:function(a){e.showMessage(t.type,t.title,t.content)}}},[a("span",[e._v(e._s(e.messageType(t.type)))]),e._v(" "),a("span",[e._v(e._s(t.title))]),e._v(" "),a("p",[e._v(e._s(t.content))])]),e._v(" "),a("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(a){e.changeFavorite(t)}}},[a("md-icon",{staticClass:"md-primary"},[e._v(e._s(e.iconFavorite(t.favorite)))])],1)],1),e._v(" "),a("md-divider",{staticClass:"md-inset"})],1)})),e._v(" "),a("md-button",{staticClass:"md-primary",on:{click:function(t){e.returnBack()}}},[e._v("Volver")])],1)},staticRenderFns:[]};var Le=a("VU/8")(Me,ze,!1,function(e){a("gUYS")},null,null).exports;s.default.use(o.a),s.default.use(r.a),s.default.component("sitting-monitor",ie),s.default.component("pomodoro",De),s.default.component("information",Ie),s.default.component("user-profile",Pe),s.default.component("received-tips",Le);var Ue=new o.a({routes:[{path:"/",name:"HelloWorld",component:c},{path:"/login",name:"Login",component:h},{path:"/profile_form",name:"ProfileForm",component:b},{path:"/main",name:"Main",component:S},{path:"/testbluetooth",name:"TestBluetooth",component:D},{path:"/testbluetoothsitting",name:"TestBluetoothSitting",component:O},{path:"/testbluetoothsittingv2",name:"TestBluetoothSittingV2",component:ie},{path:"/register",name:"RegisterDataWithPauseButton",component:me},{path:"/registerwithprotocol",name:"RegisterDataWithProtocol",component:we}]}),Ve=a("EqLo");a("4+hh"),a("giDI");s.default.config.productionTip=!1,s.default.use(Ve.MdButton),s.default.use(Ve.MdContent),s.default.use(Ve.MdTabs),s.default.use(Ve.MdCard),s.default.use(Ve.MdDivider),s.default.use(Ve.MdDatepicker),s.default.use(Ve.MdRadio),s.default.use(Ve.MdProgress),s.default.use(Ve.MdList),s.default.use(Ve.MdSubheader),s.default.use(Ve.MdField),s.default.use(Ve.MdMenu),s.default.use(Ve.MdDialog),s.default.use(Ve.MdToolbar),s.default.use(Ve.MdEmptyState),s.default.use(Ve.MdAvatar),new s.default({el:"#app",router:Ue,components:{App:n},template:"<App/>"})},RqNW:function(e,t){},"UN/H":function(e,t){},bbMM:function(e,t){},c0EJ:function(e,t){},gUYS:function(e,t){},giDI:function(e,t){},istv:function(e,t){},qpvI:function(e,t){},xglX:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.028a4221242d433cb22b.js.map